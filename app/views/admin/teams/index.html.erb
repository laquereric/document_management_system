<% content_for :title, "Manage Teams" %>

<%= render(Layout::PageContent.new(padding: :none)) do %>
  <!-- Page Header -->
  <%= render(Layout::PageHeader.new(
    title: "Manage Teams",
    description: "Admin team management and member control",
    icon: "people",
    action: {
      text: "New Team",
      url: new_admin_team_path
    }
  )) %>

  <!-- Search and Filters -->
  <%= render(Layout::CardList::SearchAndFiltersComponent.new(
    search_object: @q,
    url: admin_teams_path,
    title: "Search & Filters",
    fields: [
      {
        name: :name_cont,
        label: "Team Name",
        placeholder: "Search by team name..."
      },
      {
        name: :organization_name_cont,
        label: "Organization",
        placeholder: "Search by organization..."
      },
      {
        name: :leader_name_cont,
        label: "Team Leader",
        placeholder: "Search by leader name..."
      }
    ]
  )) %>

  <!-- Teams Grid -->
  <%= render(Layout::CardList.new(
    cards: @teams,
    layout: :grid,
    title: "Teams",
    empty_state_title: "No teams found",
    empty_state_description: params[:q].present? ? "No teams match your search criteria. Try adjusting your filters." : "Get started by creating your first team.",
    empty_state_action: {
      text: "Create Team",
      url: new_admin_team_path
    }
  )) do %>
    <% @teams.each do |team| %>
      <%= render Teams::TeamCardComponent.new(team: team, current_user: current_user, admin_context: true) %>
    <% end %>
  <% end %>
<% end %>
