<% content_for :title, "Component Test Page" %>

<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3">
      <%= render(Navigation::SidebarComponent.new(current_user: current_user)) %>
    </div>
    
    <!-- Main Content -->
    <div class="col-md-9">
      <!-- Header -->
      <%= render(Navigation::HeaderComponent.new(current_user: current_user)) %>
      
      <!-- Breadcrumbs -->
      <%= render(Navigation::BreadcrumbComponent.new(
        items: [
          { text: "Home", url: root_path },
          { text: "Component Test", url: "#" }
        ]
      )) %>
      
      <!-- Page Title -->
      <div class="row mb-4">
        <div class="col-12">
          <h1 class="mb-4">
            <i class="bi bi-puzzle"></i> Component Test Page
            <small class="text-muted">Demonstrating all components</small>
          </h1>
        </div>
      </div>
      
      <!-- Search Form -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0">Search Components</h5>
            </div>
            <div class="card-body">
              <%= render(Search::SearchFormComponent.new(q: @q)) %>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Stats Cards -->
      <div class="row mb-4">
        <div class="col-md-3">
          <%= render(Dashboard::StatsCardComponent.new(
            title: "Sample Documents",
            value: 25,
            icon: "file-text",
            color: "primary"
          )) %>
        </div>
        <div class="col-md-3">
          <%= render(Dashboard::StatsCardComponent.new(
            title: "Active Teams",
            value: 8,
            icon: "people",
            color: "success"
          )) %>
        </div>
        <div class="col-md-3">
          <%= render(Dashboard::StatsCardComponent.new(
            title: "Pending Reviews",
            value: 12,
            icon: "clock",
            color: "warning"
          )) %>
        </div>
        <div class="col-md-3">
          <%= render(Dashboard::StatsCardComponent.new(
            title: "Total Users",
            value: 45,
            icon: "person-badge",
            color: "info"
          )) %>
        </div>
      </div>
      
      <!-- Document Components -->
      <div class="row mb-4">
        <div class="col-12">
          <h3>Document Components</h3>
        </div>
      </div>
      
      <div class="row mb-4">
        <div class="col-md-6">
          <h5>Document Card</h5>
          <% if @sample_document %>
            <%= render(Document::CardComponent.new(document: @sample_document)) %>
          <% else %>
            <%= render(Ui::EmptyStateComponent.new(
              title: "No Sample Document",
              description: "Create a document to see the card component in action.",
              icon: "file-text",
              action_text: "Create Document",
              action_url: new_document_path
            )) %>
          <% end %>
        </div>
        
        <div class="col-md-6">
          <h5>Document List</h5>
          <% if @sample_documents&.any? %>
            <%= render(Document::ListComponent.new(documents: @sample_documents)) %>
          <% else %>
            <%= render(Ui::EmptyStateComponent.new(
              title: "No Documents",
              description: "No documents available to display in the list.",
              icon: "file-text"
            )) %>
          <% end %>
        </div>
      </div>
      
      <!-- Team Components -->
      <div class="row mb-4">
        <div class="col-12">
          <h3>Team Components</h3>
        </div>
      </div>
      
      <div class="row mb-4">
        <% if @sample_teams&.any? %>
          <% @sample_teams.each do |team| %>
            <div class="col-md-4 mb-3">
              <%= render(Teams::TeamCardComponent.new(team: team, current_user: current_user)) %>
            </div>
          <% end %>
        <% else %>
          <div class="col-12">
            <%= render(Ui::EmptyStateComponent.new(
              title: "No Teams",
              description: "No teams available to display.",
              icon: "people"
            )) %>
          </div>
        <% end %>
      </div>
      
      <!-- Activity Log Components -->
      <div class="row mb-4">
        <div class="col-12">
          <h3>Activity Log Components</h3>
        </div>
      </div>
      
      <div class="row mb-4">
        <div class="col-12">
          <% if @sample_activities&.any? %>
            <%= render(ActivityLogs::ActivityLogListComponent.new(
              activity_logs: @sample_activities,
              title: "Sample Activity Log",
              show_pagination: false
            )) %>
          <% else %>
            <%= render(Ui::EmptyStateComponent.new(
              title: "No Activity",
              description: "No activity logs available to display.",
              icon: "activity"
            )) %>
          <% end %>
        </div>
      </div>
      
      <!-- UI Components -->
      <div class="row mb-4">
        <div class="col-12">
          <h3>UI Components</h3>
        </div>
      </div>
      
      <div class="row mb-4">
        <div class="col-md-6">
          <h5>Status Badges</h5>
          <div class="mb-2">
            <% if @sample_statuses&.any? %>
              <% @sample_statuses.each do |status| %>
                <%= render(Ui::StatusBadgeComponent.new(status: status)) %>
              <% end %>
            <% else %>
              <span class="badge bg-primary">Sample Status</span>
              <span class="badge bg-success">Active</span>
              <span class="badge bg-warning">Pending</span>
            <% end %>
          </div>
        </div>
        
        <div class="col-md-6">
          <h5>Tag Badges</h5>
          <div class="mb-2">
            <% if @sample_tags&.any? %>
              <% @sample_tags.each do |tag| %>
                <%= render(Tags::TagBadgeComponent.new(tag: tag)) %>
              <% end %>
            <% else %>
              <span class="badge bg-secondary">Sample Tag</span>
              <span class="badge bg-secondary">Important</span>
              <span class="badge bg-secondary">Review</span>
            <% end %>
          </div>
        </div>
      </div>
      
      <!-- Form Components -->
      <div class="row mb-4">
        <div class="col-12">
          <h3>Form Components</h3>
        </div>
      </div>
      
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0">Document Form</h5>
            </div>
            <div class="card-body">
              <% sample_folder = Folder.first || Folder.new(name: "Sample Folder") %>
              <% sample_document = Document.new(folder: sample_folder) %>
              <%= render(Forms::DocumentFormComponent.new(document: sample_document)) %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
