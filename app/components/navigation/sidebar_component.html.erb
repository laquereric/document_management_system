<nav class="<%= sidebar_classes %>">
  <div class="SideNav-items">
    <!-- Main Navigation -->
    <% navigation_items.each do |item| %>
      <%= link_to item[:path], 
          class: "SideNav-item #{item[:active] ? 'selected' : ''} d-flex flex-items-center" do %>
        <i class="octicon octicon-<%= item[:icon] %> mr-2"></i>
        <% unless collapsed? %>
          <span><%= item[:label] %></span>
        <% end %>
      <% end %>
    <% end %>

    <!-- User Section -->
    <% if user_navigation_items.any? %>
      <% unless collapsed? %>
        <div class="SideNav-item">
          <span class="color-fg-muted f6 text-uppercase text-bold">User</span>
        </div>
      <% end %>
      
      <% user_navigation_items.each do |item| %>
        <%= link_to item[:path], 
            class: "SideNav-item #{item[:active] ? 'selected' : ''} d-flex flex-items-center" do %>
          <i class="octicon octicon-<%= item[:icon] %> mr-2"></i>
          <% unless collapsed? %>
            <span><%= item[:label] %></span>
          <% end %>
        <% end %>
      <% end %>
    <% end %>

    <!-- Admin Section -->
    <% if admin_navigation_items.any? %>
      <% unless collapsed? %>
        <div class="SideNav-item">
          <span class="color-fg-muted f6 text-uppercase text-bold">Admin</span>
        </div>
      <% end %>
      
      <% admin_navigation_items.each do |item| %>
        <%= link_to item[:path], 
            class: "SideNav-item #{item[:active] ? 'selected' : ''} d-flex flex-items-center" do %>
          <i class="octicon octicon-<%= item[:icon] %> mr-2"></i>
          <% unless collapsed? %>
            <span><%= item[:label] %></span>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>

  <!-- Sidebar Toggle (for responsive) -->
  <div class="SideNav-items border-top mt-auto pt-3">
    <button class="btn btn-sm btn-outline width-full" 
            data-bs-toggle="collapse" 
            data-bs-target="#sidebarCollapse">
      <i class="octicon octicon-<%= collapsed? ? 'chevron-right' : 'chevron-left' %>"></i>
      <% unless collapsed? %>
        <span class="ml-2">Collapse</span>
      <% end %>
    </button>
  </div>
</nav>
