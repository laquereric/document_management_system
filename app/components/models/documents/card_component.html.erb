<div class="<%= card_classes %>">
  <!-- Header -->
  <div class="Box-header d-flex flex-items-center flex-justify-between">
    <div class="d-flex flex-items-center">
      <%= render Primer::Beta::Octicon.new(icon: document_icon, size: :medium, color: :muted, classes: "mr-3") %>
      <div>
        <h4 class="f4 text-semibold mb-1">
          <%= link_to document.title, models_document_path(document), class: "Link--primary" %>
        </h4>
        <% if document.file.attached? %>
          <span class="Label Label--accent">
            <%= render Primer::Beta::Octicon.new(icon: "paperclip", size: :small, classes: "mr-1") %>
            <%= file_extension %>
          </span>
        <% end %>
      </div>
    </div>
    
    <% if show_actions %>
      <%= render Layout::Card::ActionsMenuComponent.new(resource: document, resource_type: 'document') %>
    <% end %>
  </div>

  <!-- Content -->
  <div class="Box-body">
    <!-- Description -->
    <% if truncated_content.present? %>
      <p class="f5 color-fg-muted mb-3 lh-condensed">
        <%= truncated_content %>
      </p>
    <% end %>

    <!-- Status and Tags -->
    <div class="d-flex flex-items-center flex-wrap mb-3" style="gap: 6px;">
      <% if document.status %>
        <%= render Ui::StatusBadgeComponent.new(status: document.status) %>
      <% end %>
      <% document.tags.limit(3).each do |tag| %>
        <%= render Models::Tags::TagItemComponent.new(tag: tag) %>
      <% end %>
      <% if document.tags.count > 3 %>
        <span class="Label Label--secondary">+<%= document.tags.count - 3 %> more</span>
      <% end %>
    </div>

    <!-- Metadata -->
    <%= render Models::Documents::MetadataComponent.new(
      document: document,
      layout: :vertical,
      class: "mt-3"
    ) %>
  </div>
</div>
