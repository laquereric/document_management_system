<%= render(Primer::Beta::BorderBox.new) do %>
  <%= render(Primer::Beta::BorderBox::Header.new) do %>
    <div class="d-flex flex-items-center flex-justify-between">
      <%= render(Primer::Beta::Heading.new(tag: :h3, size: 400)) do %>
        <%= title %>
      <% end %>
      <div class="d-flex gap-2">
        <% if show_new_document_link? %>
          <%= render(Primer::Beta::Button.new(
            href: new_document_path,
            scheme: :primary,
            size: :small
          )) do %>
            <%= render(Primer::Beta::Octicon.new(icon: "plus", size: :small)) %>
            <span class="ml-1">New Document</span>
          <% end %>
        <% end %>
        <% if show_view_all_link? %>
          <%= render(Primer::Beta::Button.new(
            href: view_all_path,
            scheme: :secondary,
            size: :small
          )) do %>
            <%= view_all_text %>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>
  
  <%= render(Primer::Beta::BorderBox::Body.new) do %>
    <% if has_documents? %>
      <div class="d-flex flex-column" style="gap: 12px;">
        <% documents.each do |document| %>
          <%= render(Primer::Beta::BorderBox::Row.new) do %>
            <div class="d-flex flex-items-center flex-justify-between p-3 border rounded-2">
              <div class="d-flex flex-items-center flex-1">
                <div class="mr-3">
                  <%= render(Primer::Beta::Octicon.new(icon: "file-text", size: :small, color: :muted)) %>
                </div>
                <div class="flex-1">
                  <div class="d-flex flex-items-center gap-2 mb-1">
                    <%= render(Primer::Beta::Link.new(href: document_path(document))) do %>
                      <%= document.title %>
                    <% end %>
                    <% if document.status %>
                      <%= render(Primer::Beta::Label.new(
                        scheme: document.status.color,
                        size: :large
                      )) do %>
                        <%= document.status.name %>
                      <% end %>
                    <% end %>
                  </div>
                  <div class="f6 color-fg-muted">
                    <%= document.author&.name || 'Unknown Author' %> â€¢ 
                    <%= time_ago_in_words(document.created_at) %> ago
                  </div>
                </div>
              </div>
              <div class="d-flex flex-items-center gap-2">
                <% if document.tags.any? %>
                  <div class="d-flex gap-1">
                    <% document.tags.limit(3).each do |tag| %>
                      <%= render(Primer::Beta::Label.new(scheme: :secondary, size: :small)) do %>
                        <%= tag.name %>
                      <% end %>
                    <% end %>
                    <% if document.tags.count > 3 %>
                      <%= render(Primer::Beta::Label.new(scheme: :secondary, size: :small)) do %>
                        +<%= document.tags.count - 3 %>
                      <% end %>
                    <% end %>
                  </div>
                <% end %>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    <% else %>
      <%= render(Ui::EmptyStateComponent.new(
        title: "No documents yet",
        description: "Create your first document to get started",
        icon: "file-text"
      )) %>
    <% end %>
  <% end %>
<% end %>
