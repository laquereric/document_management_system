<div class="<%= card_classes %>">
  <div class="Box-header d-flex flex-items-center flex-justify-between">
    <h3 class="f4 text-semibold"><%= title %></h3>
    <div class="d-flex gap-2">
      <% if show_new_document_link? %>
        <%= link_to new_document_path, class: "btn btn-sm btn-primary" do %>
          <svg class="octicon octicon-plus mr-1" width="16" height="16" viewBox="0 0 16 16">
            <path d="M8 2a.75.75 0 0 1 .75.75v4.5h4.5a.75.75 0 0 1 0 1.5h-4.5v4.5a.75.75 0 0 1-1.5 0v-4.5h-4.5a.75.75 0 0 1 0-1.5h4.5v-4.5A.75.75 0 0 1 8 2Z"></path>
          </svg>
          New Document
        <% end %>
      <% end %>
      <% if show_view_all_link? %>
        <%= link_to view_all_path, class: "btn btn-sm btn-outline" do %>
          <%= view_all_text %>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="Box-body">
    <% if has_documents? %>
      <div class="d-flex flex-column" style="gap: 12px;">
        <% documents.each do |document| %>
          <div class="d-flex flex-items-center flex-justify-between p-3 border rounded-2">
            <div class="d-flex flex-items-center flex-1">
              <div class="mr-3">
                <svg class="octicon octicon-file-text color-fg-muted" width="16" height="16" viewBox="0 0 16 16">
                  <path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6H9.75A1.75 1.75 0 0 1 8 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path>
                </svg>
              </div>
              <div class="flex-1">
                <div class="d-flex flex-items-center gap-2 mb-1">
                  <%= link_to document.title, document_path(document), class: "Link--primary f5 text-semibold" %>
                  <% if document.status %>
                    <span class="Label Label--<%= document.status.color %>">
                      <%= document.status.name %>
                    </span>
                  <% end %>
                </div>
                <div class="f6 color-fg-muted">
                  <%= document.author&.name || 'Unknown Author' %> â€¢ 
                  <%= time_ago_in_words(document.created_at) %> ago
                </div>
              </div>
            </div>
            <div class="d-flex flex-items-center gap-2">
              <% if document.tags.any? %>
                <div class="d-flex gap-1">
                  <% document.tags.limit(3).each do |tag| %>
                    <span class="Label Label--secondary Label--small"><%= tag.name %></span>
                  <% end %>
                  <% if document.tags.count > 3 %>
                    <span class="Label Label--secondary Label--small">+<%= document.tags.count - 3 %></span>
                  <% end %>
                </div>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <%= render(Ui::EmptyStateComponent.new(
        title: "No documents yet",
        description: "Create your first document to get started",
        icon: "file-text"
      )) %>
    <% end %>
  </div>
</div>
