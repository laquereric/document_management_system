<div class="card-list">
  <!-- List Header with Controls -->
  <% if show_filters || show_sorting %>
    <div class="d-flex flex-items-center flex-justify-between mb-3 pb-3 border-bottom">
      <!-- Title and Count -->
      <div class="d-flex flex-items-center">
        <h2 class="h3 mb-0"><%= title %></h2>
        <span class="Counter ml-2"><%= cards.count %></span>
      </div>

      <!-- Controls -->
      <div class="d-flex flex-items-center gap-2">
        <!-- Layout Toggle -->
        <div class="BtnGroup">
          <% layout_options.each do |option| %>
            <%= render(Primer::Beta::Button.new(
              scheme: option[:active] ? :primary : :default,
              size: :small,
              "aria-label": option[:label],
              data: { action: "list:layout", layout: option[:value] }
            )) do %>
              <%= render(Primer::Beta::Octicon.new(icon: option[:icon])) %>
            <% end %>
          <% end %>
        </div>

        <!-- Sort Dropdown -->
        <% if show_sorting %>
          <%= render(Primer::Alpha::ActionMenu.new(
            menu_id: "sort-menu",
            position: :relative
          )) do |menu| %>
            <% menu.with_show_button do %>
              <%= render(Primer::Beta::Button.new(
                scheme: :default,
                size: :small
              )) do %>
                Sort: <%= current_sort.to_s.humanize %>
                <%= render(Primer::Beta::Octicon.new(icon: :"chevron-down", ml: 1)) %>
              <% end %>
            <% end %>

            <% sort_options.each do |option| %>
              <% menu.with_item(
                label: option[:label],
                href: "#",
                data: { action: "list:sort", sort: option[:value] }
              ) do %>
                <%= option[:label] %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>

        <!-- Filter Toggle -->
        <% if show_filters %>
          <%= render(Primer::Beta::Button.new(
            scheme: :default,
            size: :small,
            data: { action: "list:toggle-filters" }
          )) do %>
            <%= render(Primer::Beta::Octicon.new(icon: :filter, mr: 1)) %>
            Filters
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- Filter Panel (Hidden by default) -->
  <% if show_filters %>
    <div class="filter-panel d-none mb-4">
      <%= render(Document::FilterPanelComponent.new(search: search)) %>
    </div>
  <% end %>

  <!-- Card List/Grid -->
  <% if cards.any? %>
    <div class="<%= container_classes %>">
      <%= content %>
    </div>
  <% else %>
    <!-- Empty State -->
    <div class="blankslate">
      <%= render(Primer::Beta::Octicon.new(icon: :file, size: :large, mb: 3)) %>
      <h3 class="blankslate-heading"><%= empty_state_title %></h3>
      <p class="blankslate-body">
        <%= empty_state_description %>
      </p>
      <% if empty_state_action %>
        <%= render(Primer::Beta::Button.new(
          href: empty_state_action[:url],
          scheme: :primary
        )) do %>
          <%= empty_state_action[:text] %>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>

=begin
          <!-- Pagination -->
          < % if @tags.respond_to?(:current_page) %>
            <div class="d-flex flex-justify-center mt-4">
              <nav class="paginate-container" aria-label="Pagination">
                <div class="pagination">
                  < % if @tags.prev_page %>
                    <%= link_to "Previous", url_for(page: @tags.prev_page), class: "previous_page", rel: "prev" %>
                  < % else %>
                    <span class="previous_page disabled">Previous</span>
                  < % end %>
                  
                  < % @tags.total_pages.times do |page_num| %>
                    < % page_num += 1 %>
                    < % if page_num == @tags.current_page %>
                      <em class="current"><%= page_num %></em>
                    < % elsif page_num == 1 || page_num == @tags.total_pages || (page_num >= @tags.current_page - 2 && page_num <= @tags.current_page + 2) %>
                      <%= link_to page_num, url_for(page: page_num) %>
                    < % elsif page_num == @tags.current_page - 3 || page_num == @tags.current_page + 3 %>
                      <span class="gap">â€¦</span>
                    < % end %>
                  < % end %>
                  
                  < % if @tags.next_page %>
                    <%= link_to "Next", url_for(page: @tags.next_page), class: "next_page", rel: "next" %>
                  < % else %>
                    <span class="next_page disabled">Next</span>
                  < % end %>
                </div>
              </nav>
            </div>

=end
